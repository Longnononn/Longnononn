-- script by Long dzz

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local UIS = game:GetService("UserInputService")

local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")

local walkSpeedDefault = 16
local walkSpeedBoost = 28
local noclipEnabled = false
local speedEnabled = false

-- GUI setup (ẩn mình)
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SysCoreUI" -- tên ít bị nghi ngờ
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Nút tròn để bật/tắt GUI
local toggleGuiButton = Instance.new("TextButton")
toggleGuiButton.Size = UDim2.new(0, 40, 0, 40)
toggleGuiButton.Position = UDim2.new(0, 10, 0, 10)
toggleGuiButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
toggleGuiButton.Text = "+"
toggleGuiButton.TextScaled = true
toggleGuiButton.TextColor3 = Color3.new(1, 1, 1)
toggleGuiButton.BorderSizePixel = 0
toggleGuiButton.AutoButtonColor = false
toggleGuiButton.Font = Enum.Font.GothamBlack
toggleGuiButton.Parent = screenGui
toggleGuiButton.Name = "SysBtn"
Instance.new("UICorner", toggleGuiButton)

-- Frame chính
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 160, 0, 100)
mainFrame.Position = UDim2.new(0, 60, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.Visible = false
mainFrame.Parent = screenGui
Instance.new("UICorner", mainFrame)

-- Text ghi tên tác giả
local creditText = Instance.new("TextLabel")
creditText.Size = UDim2.new(1, 0, 0, 20)
creditText.Position = UDim2.new(0, 0, 0, 0)
creditText.BackgroundTransparency = 1
creditText.Text = "script by Long dzz"
creditText.TextColor3 = Color3.new(1, 1, 1)
creditText.Font = Enum.Font.Gotham
creditText.TextScaled = true
creditText.Parent = mainFrame

-- Nút bật/tắt
local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(1, -20, 0, 40)
toggleBtn.Position = UDim2.new(0, 10, 0, 30)
toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
toggleBtn.Text = "OFF"
toggleBtn.TextScaled = true
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Parent = mainFrame
Instance.new("UICorner", toggleBtn)

-- Chức năng bật/tắt
local function updateState(state)
	noclipEnabled = state
	speedEnabled = state

	if speedEnabled then
		humanoid.WalkSpeed = walkSpeedBoost
		toggleBtn.Text = "ON"
		toggleBtn.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
	else
		humanoid.WalkSpeed = walkSpeedDefault
		toggleBtn.Text = "OFF"
		toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
	end
end

-- Toggle GUI hiển thị
toggleGuiButton.MouseButton1Click:Connect(function()
	mainFrame.Visible = not mainFrame.Visible
end)

-- Toggle chức năng
toggleBtn.MouseButton1Click:Connect(function()
	updateState(not speedEnabled)
end)

-- NoClip khi cần
RunService.Stepped:Connect(function()
	if noclipEnabled and character then
		for _, v in ipairs(character:GetDescendants()) do
			if v:IsA("BasePart") and v.CanCollide == true then
				v.CanCollide = false
			end
		end
	end
end)

-- Khi nhân vật hồi sinh
player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	if speedEnabled then
		humanoid.WalkSpeed = walkSpeedBoost
	end
end)
