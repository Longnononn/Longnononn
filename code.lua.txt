-- GUI Auto-Hop + Rejoin + Ping Viewer
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- GUI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "longdzzGUI"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Name = "MainFrame"
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.Size = UDim2.new(0, 250, 0, 160)
Frame.Active = true
Frame.Draggable = true
Frame.Visible = false
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 10)
Instance.new("UIStroke", Frame).Color = Color3.fromRGB(85, 85, 255)

-- Toggle button
local ToggleButton = Instance.new("ImageButton", ScreenGui)
ToggleButton.Size = UDim2.new(0, 50, 0, 50)
ToggleButton.Position = UDim2.new(0.05, 0, 0.2, 0)
ToggleButton.BackgroundColor3 = Color3.fromRGB(85, 85, 255)
ToggleButton.Image = "rbxassetid://17250817867"
ToggleButton.Draggable = true
Instance.new("UICorner", ToggleButton).CornerRadius = UDim.new(1, 0)
ToggleButton.MouseButton1Click:Connect(function()
    Frame.Visible = not Frame.Visible
end)

-- N√∫t ch·ª©c nƒÉng
local function createButton(name, text, yPos, callback)
    local btn = Instance.new("TextButton", Frame)
    btn.Name = name
    btn.Size = UDim2.new(0.8, 0, 0.2, 0)
    btn.Position = UDim2.new(0.1, 0, yPos, 0)
    btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    btn.Font = Enum.Font.Gotham
    btn.Text = text
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.TextSize = 14
    btn.AutoButtonColor = false
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

    btn.MouseEnter:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(65, 65, 65) end)
    btn.MouseLeave:Connect(function() btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45) end)
    btn.MouseButton1Click:Connect(callback)

    return btn
end

-- Auto-Hop t·ª´ Replit webhook
createButton("AutoHopMoon", "Auto-Hop Full Moon", 0.1, function()
    local success, response = pcall(function()
        return HttpService:GetAsync("https://LikableUnitedPublishers.longnononpro.repl.co/jobid")
    end)

    if success and response and string.match(response, "[%w-]+") then
        TeleportService:TeleportToPlaceInstance(2753915549, response, LocalPlayer)
    else
        warn("‚ùå Kh√¥ng th·ªÉ l·∫•y JobId t·ª´ Replit!")
    end
end)

-- Rejoin server hi·ªán t·∫°i
createButton("RejoinBtn", "üîÅ Rejoin Server", 0.35, function()
    TeleportService:Teleport(game.PlaceId, LocalPlayer)
end)

-- Hop random server kh√°c
createButton("RandomHop", "üé≤ Hop Random Server", 0.6, function()
    local servers = HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?limit=100"))
    for _, server in ipairs(servers.data) do
        if server.playing < server.maxPlayers and server.id ~= game.JobId then
            TeleportService:TeleportToPlaceInstance(game.PlaceId, server.id, LocalPlayer)
            break
        end
    end
end)

-- Ping hi·ªÉn th·ªã
local PingLabel = Instance.new("TextLabel", Frame)
PingLabel.Size = UDim2.new(1, 0, 0.15, 0)
PingLabel.Position = UDim2.new(0, 0, 0.85, 0)
PingLabel.BackgroundTransparency = 1
PingLabel.Font = Enum.Font.Code
PingLabel.TextSize = 13
PingLabel.TextColor3 = Color3.fromRGB(200, 255, 200)

game:GetService("RunService").RenderStepped:Connect(function()
    local stats = LocalPlayer:FindFirstChild("NetworkStats")
    if stats then
        local ping = stats:FindFirstChild("Data Ping")
        if ping then
            PingLabel.Text = "Ping: " .. math.floor(ping:GetValue()) .. " ms"
        end
    end
end)
